<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Habit Tracker — Editable Clone</title>
  <style>
    :root{--bg:#f6f7fb;--card:#fff;--accent:#0b6efd;--muted:#6b7280}
    body{font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;margin:0;background:var(--bg);color:#111}
    .container{max-width:960px;margin:32px auto;padding:20px}
    .card{background:var(--card);border-radius:12px;padding:20px;box-shadow:0 6px 18px rgba(11,27,50,0.06)}
    .product{display:flex;gap:20px;align-items:flex-start}
    .thumb{width:220px;height:140px;background:linear-gradient(135deg,#dfefff,#f4f8ff);border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:700;color:#0b4db8}
    h1{margin:0 0 8px;font-size:20px}
    .meta{display:flex;gap:12px;align-items:center}
    .price{font-size:20px;font-weight:700;color:var(--accent)}
    .btn{background:var(--accent);color:#fff;padding:10px 14px;border-radius:8px;border:0;cursor:pointer}
    .btn.ghost{background:transparent;color:var(--accent);border:1px solid rgba(11,110,253,0.12)}
    .muted{color:var(--muted)}
    .lead{margin:12px 0}

    /* Habit editor */
    .grid{display:grid;grid-template-columns:1fr 320px;gap:20px;margin-top:18px}
    .tracker{overflow:auto}
    table{width:100%;border-collapse:collapse}
    th,td{padding:8px;border-bottom:1px solid #eef2ff;text-align:left}
    th{background:#fbfdff;position:sticky;top:0}
    td.habit{width:40%}
    .small{font-size:13px;color:var(--muted)}
    .controls{display:flex;gap:8px;flex-wrap:wrap}
    input[type=text]{padding:6px;border-radius:6px;border:1px solid #e6eefc}
    .add-row{display:flex;gap:8px;margin-bottom:10px}
    .right-col{position:relative}
    .export{display:flex;flex-direction:column;gap:8px}
    .note{font-size:13px;color:var(--muted);padding:10px;background:#fbfdff;border-radius:8px}
    footer{margin-top:18px;color:var(--muted);font-size:13px}
    .danger{background:#fff0f0;color:#a11}
    .inline-input{border:1px dashed transparent;padding:4px;border-radius:6px}
    .inline-input:focus{outline:none;border-color:#cfe0ff;background:#fff}
  </style>
</head>
<body>
  <div class="container">
    <div class="card product">
      <div class="thumb">Habit<br/>Tracker</div>
      <div style="flex:1">
        <h1 contenteditable="true" id="product-title">Habit Tracker — Google Sheet style (Free clone)</h1>
        <div class="meta">
          <div class="price" id="product-price">Free</div>
          <div class="small muted">Editable habit tracker you can host anywhere</div>
        </div>
        <p class="lead muted">This is a single-file editable clone of a simple habit-tracker landing page. Use the editor below to add, remove, rename and track habits. Your settings are saved in your browser (localStorage). Export as CSV to import into Google Sheets.</p>
        <div class="controls">
          <button class="btn" id="download-csv">Download CSV (for Google Sheets)</button>
          <button class="btn ghost" id="reset-all">Reset Checkboxes</button>
          <button class="btn ghost" id="clear-storage">Clear Saved Data</button>
        </div>
      </div>
    </div>

    <div class="grid">
      <div class="card tracker">
        <div class="add-row">
          <input type="text" id="new-habit" placeholder="Add new habit (e.g. Meditate)" />
          <button class="btn" id="add-habit">Add</button>
        </div>
        <table id="tracker-table">
          <thead>
            <tr>
              <th>Habit</th>
              <th class="small">Mon</th>
              <th class="small">Tue</th>
              <th class="small">Wed</th>
              <th class="small">Thu</th>
              <th class="small">Fri</th>
              <th class="small">Sat</th>
              <th class="small">Sun</th>
              <th class="small">Actions</th>
            </tr>
          </thead>
          <tbody id="tracker-body">
            <!-- rows injected by JS -->
          </tbody>
        </table>
      </div>

      <div class="card right-col">
        <div class="export">
          <div class="note">
            <strong>How to edit habits</strong>
            <ul>
              <li>Click any habit name to edit it inline.</li>
              <li>Use checkboxes to mark days done.</li>
              <li>Click the trash icon to delete a habit.</li>
              <li>Export CSV to import into Google Sheets (File → Import → Upload CSV).</li>
            </ul>
          </div>

          <div class="note">
            <strong>Data</strong>
            <div class="small">Your data is saved in your browser. Use "Clear Saved Data" to start fresh.</div>
          </div>

          <div class="note">
            <strong>Quick actions</strong>
            <div style="display:flex;gap:8px;margin-top:8px">
              <button class="btn" id="export-json">Export JSON</button>
              <button class="btn ghost" id="import-json">Import JSON</button>
            </div>
            <input type="file" id="json-file" accept="application/json" style="display:none;margin-top:8px" />
          </div>

          <div style="margin-top:12px">
            <label class="small">Default sample habits included. Edit or delete as required.</label>
          </div>
        </div>
      </div>
    </div>

    <footer class="muted">Tips: Host this single HTML file on GitHub Pages or Netlify for a sharable page. Want Google Sheets integration (live embed + reset button script)? Tell me and I'll add it.</footer>
  </div>

  <script>
    // Minimal single-file habit tracker with editable habit names and 7-day checkboxes.
    const STORAGE_KEY = 'habitTracker_v1';
    const defaultHabits = [
      {name:'Meditate'}, {name:'Exercise'}, {name:'Read'}, {name:'No sugar'}, {name:'Study'}
    ];

    function uid(){return Math.random().toString(36).slice(2,9)}

    function load(){
      const raw = localStorage.getItem(STORAGE_KEY);
      if(!raw) return {habits: defaultHabits.map(h=>({id:uid(),name:h.name,days:[false,false,false,false,false,false,false]}))};
      try{ return JSON.parse(raw); }catch(e){return {habits: defaultHabits.map(h=>({id:uid(),name:h.name,days:[false,false,false,false,false,false,false]}))}}}

    function save(state){localStorage.setItem(STORAGE_KEY,JSON.stringify(state))}

    let state = load();

    const tbody = document.getElementById('tracker-body');

    function render(){
      tbody.innerHTML='';
      state.habits.forEach(h => {
        const tr = document.createElement('tr');
        const tdName = document.createElement('td');
        tdName.className='habit';
        const nameInput = document.createElement('div');
        nameInput.contentEditable = true;
        nameInput.className='inline-input';
        nameInput.innerText = h.name;
        nameInput.addEventListener('input', e=>{h.name = nameInput.innerText; save(state)})
        tdName.appendChild(nameInput);
        tr.appendChild(tdName);

        for(let i=0;i<7;i++){
          const td = document.createElement('td');
          const chk = document.createElement('input');
          chk.type='checkbox';
          chk.checked = !!h.days[i];
          chk.addEventListener('change', ()=>{h.days[i]=chk.checked; save(state)})
          td.appendChild(chk);
          tr.appendChild(td);
        }

        const tdAct = document.createElement('td');
        const del = document.createElement('button'); del.innerText='Delete'; del.className='btn ghost';
        del.addEventListener('click', ()=>{ if(confirm('Delete this habit?')){ state.habits = state.habits.filter(x=>x.id!==h.id); save(state); render(); } });
        tdAct.appendChild(del);
        tr.appendChild(tdAct);
        tbody.appendChild(tr);
      })
    }

    // initial render
    render();

    // UI hooks
    document.getElementById('add-habit').addEventListener('click', ()=>{
      const val = document.getElementById('new-habit').value.trim();
      if(!val) return alert('Type a habit name');
      state.habits.push({id:uid(),name:val,days:[false,false,false,false,false,false,false]});
      document.getElementById('new-habit').value=''; save(state); render();
    })

    document.getElementById('reset-all').addEventListener('click', ()=>{
      if(!confirm('Uncheck all checkboxes?')) return;
      state.habits.forEach(h=>h.days=[false,false,false,false,false,false,false]); save(state); render();
    })

    document.getElementById('clear-storage').addEventListener('click', ()=>{
      if(!confirm('Clear saved data and restore defaults?')) return;
      localStorage.removeItem(STORAGE_KEY); state = load(); render();
    })

    // CSV export
    function toCSV(){
      // header: Habit,Mon,Tue,...
      const rows = [];
      rows.push(['Habit','Mon','Tue','Wed','Thu','Fri','Sat','Sun']);
      state.habits.forEach(h=>{
        rows.push([h.name].concat(h.days.map(d => d? '1':'0')));
      })
      return rows.map(r=>r.map(c=>'"'+String(c).replace(/"/g,'""')+'"').join(',')).join('\n');
    }

    document.getElementById('download-csv').addEventListener('click', ()=>{
      const blob = new Blob([toCSV()],{type:'text/csv'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href=url; a.download='habit-tracker.csv'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
    })

    // JSON export/import
    document.getElementById('export-json').addEventListener('click', ()=>{
      const blob = new Blob([JSON.stringify(state,null,2)],{type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href=url; a.download='habit-tracker.json'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
    })

    document.getElementById('import-json').addEventListener('click', ()=>{
      document.getElementById('json-file').click();
    })
    document.getElementById('json-file').addEventListener('change', e=>{
      const f = e.target.files[0]; if(!f) return;
      const reader = new FileReader();
      reader.onload = () => {
        try{ const j = JSON.parse(reader.result); if(Array.isArray(j.habits)){ state = j; save(state); render(); alert('Imported successfully'); } else alert('Invalid file'); }catch(err){alert('Invalid JSON')}
      }
      reader.readAsText(f);
    })

    // save on page unload just in case
    window.addEventListener('beforeunload', ()=>save(state));
  </script>
</body>
</html>
